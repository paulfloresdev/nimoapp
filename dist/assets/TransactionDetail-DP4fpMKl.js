const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DWgeqC72.js","assets/features-animation-D0KFXdHs.js","assets/index-DKY2NX35.js","assets/index-DpMPmbDq.css"])))=>i.map(i=>d[i]);
import{$ as gs,r as l,t as ys,l as js,m as ws,n as pe,o as ue,j as s,p as J,T as xe,q as Ns,C as _s,v as me,w as us,x as as,L as ts,y as os,z as Cs,_ as $s,A as Ps,B as Es,E as ks,F as Is,G as Os,H as Ss,I as Ms,J as Ds,K as Bs,M as Rs,N as Ts,O as de,P as As,Q as Fs,R as zs,h as Vs,u as Hs,a as qs,b as ns,S as rs,c as ls,d as is,e as D,D as ce,s as B,U as Ls,V as Us,W as Ks}from"./index-DKY2NX35.js";import{F as I,p as Xs}from"./Formatters-G7kRJght.js";import{u as ds,p as Gs,T as Ys}from"./TransactionCard-4OsSp7vu.js";import"./chunk-MW56SEHC-B-JqqJfx.js";let v=typeof document<"u"&&window.visualViewport;function Ws(){let n=gs(),[e,o]=l.useState(()=>n?{width:0,height:0}:cs());return l.useEffect(()=>{let r=()=>{o(a=>{let c=cs();return c.width===a.width&&c.height===a.height?a:c})};return v?v.addEventListener("resize",r):window.addEventListener("resize",r),()=>{v?v.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),e}function cs(){return{width:v&&(v==null?void 0:v.width)||window.innerWidth,height:v&&(v==null?void 0:v.height)||window.innerHeight}}var ms=ys({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","h-[--visual-viewport-height]"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","end-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...js]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] min-h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),[Js,fe]=ws({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),fs=pe((n,e)=>{const{as:o,children:r,className:a,...c}=n,{slots:f,classNames:m,bodyId:p,setBodyMounted:d}=fe(),i=ue(e),h=o||"div";return l.useEffect(()=>(d(!0),()=>d(!1)),[d]),s.jsx(h,{ref:i,className:f.body({class:J(m==null?void 0:m.body,a)}),id:p,...c,children:r})});fs.displayName="HeroUI.ModalBody";var Qs=fs,Zs={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:xe.ease},opacity:{duration:.4,ease:xe.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:xe.ease}}},ps=()=>$s(()=>import("./index-DWgeqC72.js"),__vite__mapDeps([0,1,2,3])).then(n=>n.default),xs=n=>{const{as:e,children:o,role:r="dialog",...a}=n,{Component:c,domRef:f,slots:m,classNames:p,motionProps:d,backdrop:i,closeButton:h,hideCloseButton:$,disableAnimation:u,getDialogProps:b,getBackdropProps:g,getCloseButtonProps:y,onClose:x}=fe(),T=e||c||"div",H=Ws(),{dialogProps:q}=Ns({role:r},f),O=l.isValidElement(h)?l.cloneElement(h,y()):s.jsx("button",{...y(),children:s.jsx(_s,{})}),A=l.useCallback(N=>{N.key==="Tab"&&N.nativeEvent.isComposing&&(N.stopPropagation(),N.preventDefault())},[]),S=b(me(q,a)),w=s.jsxs(T,{...S,onKeyDown:us(S.onKeyDown,A),children:[s.jsx(as,{onDismiss:x}),!$&&O,typeof o=="function"?o(x):o,s.jsx(as,{onDismiss:x})]}),F=l.useMemo(()=>i==="transparent"?null:u?s.jsx("div",{...g()}):s.jsx(ts,{features:ps,children:s.jsx(os.div,{animate:"enter",exit:"exit",initial:"exit",variants:Cs.fade,...g()})}),[i,u,g]),M={"--visual-viewport-height":H.height+"px"},z=u?s.jsx("div",{className:m.wrapper({class:p==null?void 0:p.wrapper}),"data-slot":"wrapper",style:M,children:w}):s.jsx(ts,{features:ps,children:s.jsx(os.div,{animate:"enter",className:m.wrapper({class:p==null?void 0:p.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:Zs,...d,style:M,children:w})});return s.jsxs("div",{tabIndex:-1,children:[F,z]})};xs.displayName="HeroUI.ModalContent";var ea=xs,hs=pe((n,e)=>{const{as:o,children:r,className:a,...c}=n,{slots:f,classNames:m}=fe(),p=ue(e),d=o||"footer";return s.jsx(d,{ref:p,className:f.footer({class:J(m==null?void 0:m.footer,a)}),...c,children:r})});hs.displayName="HeroUI.ModalFooter";var sa=hs,vs=pe((n,e)=>{const{as:o,children:r,className:a,...c}=n,{slots:f,classNames:m,headerId:p,setHeaderMounted:d}=fe(),i=ue(e),h=o||"header";return l.useEffect(()=>(d(!0),()=>d(!1)),[d]),s.jsx(h,{ref:i,className:f.header({class:J(m==null?void 0:m.header,a)}),id:p,...c,children:r})});vs.displayName="HeroUI.ModalHeader";var aa=vs;function ta(n={shouldBlockScroll:!0},e,o){let{overlayProps:r,underlayProps:a}=Ps({...n,isOpen:e.isOpen,onClose:e.close},o);return Es({isDisabled:!e.isOpen||!n.shouldBlockScroll}),ks(),l.useEffect(()=>{if(e.isOpen&&o.current)return Is([o.current])},[e.isOpen,o]),{modalProps:me(r),underlayProps:a}}function oa(n){var e,o,r;const a=Os(),[c,f]=Ss(n,ms.variantKeys),{ref:m,as:p,className:d,classNames:i,isOpen:h,defaultOpen:$,onOpenChange:u,motionProps:b,closeButton:g,isDismissable:y=!0,hideCloseButton:x=!1,shouldBlockScroll:T=!0,portalContainer:H,isKeyboardDismissDisabled:q=!1,onClose:O,...A}=c,S=p||"section",w=ue(m),F=l.useRef(null),[M,z]=l.useState(!1),[N,Q]=l.useState(!1),V=(o=(e=n.disableAnimation)!=null?e:a==null?void 0:a.disableAnimation)!=null?o:!1,Z=l.useId(),L=l.useId(),U=l.useId(),_=Ms({isOpen:h,defaultOpen:$,onOpenChange:j=>{u==null||u(j),j||O==null||O()}}),{modalProps:ee,underlayProps:K}=ta({isDismissable:y,shouldBlockScroll:T,isKeyboardDismissDisabled:q},_,w),{buttonProps:se}=Ds({onPress:_.close},F),{isFocusVisible:ae,focusProps:te}=Bs(),oe=J(i==null?void 0:i.base,d),P=l.useMemo(()=>ms({...f,disableAnimation:V}),[Rs(f),V]),ne=(j={},ie=null)=>{var X;return{ref:Ts(ie,w),...me(ee,A,j),className:P.base({class:J(oe,j.className)}),id:Z,"data-open":de(_.isOpen),"data-dismissable":de(y),"aria-modal":de(!0),"data-placement":(X=n==null?void 0:n.placement)!=null?X:"right","aria-labelledby":M?L:void 0,"aria-describedby":N?U:void 0}},re=l.useCallback((j={})=>({className:P.backdrop({class:i==null?void 0:i.backdrop}),onClick:()=>_.close(),...K,...j}),[P,i,K]),le=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":de(ae),className:P.closeButton({class:i==null?void 0:i.closeButton}),...me(se,te)});return{Component:S,slots:P,domRef:w,headerId:L,bodyId:U,motionProps:b,classNames:i,isDismissable:y,closeButton:g,hideCloseButton:x,portalContainer:H,shouldBlockScroll:T,backdrop:(r=n.backdrop)!=null?r:"opaque",isOpen:_.isOpen,onClose:_.close,disableAnimation:V,setBodyMounted:Q,setHeaderMounted:z,getDialogProps:ne,getBackdropProps:re,getCloseButtonProps:le}}var bs=pe((n,e)=>{const{children:o,...r}=n,a=oa({...r,ref:e}),c=s.jsx(Fs,{portalContainer:a.portalContainer,children:o});return s.jsx(Js,{value:a,children:a.disableAnimation&&a.isOpen?c:s.jsx(As,{children:a.isOpen?c:null})})});bs.displayName="HeroUI.Modal";var na=bs;function ra(n={}){const{id:e,defaultOpen:o,isOpen:r,onClose:a,onOpen:c,onChange:f=()=>{}}=n,m=ds(c),p=ds(a),[d,i]=zs(r,o||!1,f),h=l.useId(),$=e||h,u=r!==void 0,b=l.useCallback(()=>{u||i(!1),p==null||p()},[u,p]),g=l.useCallback(()=>{u||i(!0),m==null||m()},[u,m]),y=l.useCallback(()=>{(d?b:g)()},[d,g,b]);return{isOpen:!!d,onOpen:g,onClose:b,onOpenChange:y,isControlled:u,getButtonProps:(x={})=>({...x,"aria-expanded":d,"aria-controls":$,onClick:us(x.onClick,y)}),getDisclosureProps:(x={})=>({...x,hidden:!d,id:$})}}const he="https://nimo-api.paulflores.site",R=({name:n,value:e,classname:o})=>s.jsxs("div",{className:`${o} w-full flex flex-row justify-between `,children:[s.jsx("span",{className:"",children:n}),s.jsx("span",{className:"font-medium",children:e})]}),ma=()=>{var O,A,S,w,F,M,z,N,Q,V,Z,L,U,_,ee,K,se,ae,te,oe,P,ne,re,le,j,ie,X,ve,be,ge,ye,je,we,Ne,_e,Ce,$e,Pe,Ee,ke,Ie,Oe,Se,Me,De,Be,Re,Te,Ae,Fe,ze,Ve,He,qe,Le,Ue,Ke,Xe,Ge,Ye,We,Je,Qe,Ze,es,ss;const n=Vs(),{transaction:e}=n.state,o=Hs(),r=qs(),{collection:a,totalIncomes:c,message:f,item:m,error:p,loading:d}=ns(t=>t.income_relations),i=ns(t=>t.transactions),{isOpen:h,onOpen:$,onOpenChange:u}=ra(),[b,g]=l.useState(1),[y,x]=l.useState(void 0),[T,H]=l.useState(void 0);l.useEffect(()=>{var C,E,k,G,Y,W;if(e){var t={contact_id:void 0,from_id:void 0,to_id:void 0,page:void 0};((C=e.type)==null?void 0:C.id)===1&&((k=(E=e.card)==null?void 0:E.type)==null?void 0:k.id)===2?(t.contact_id=3,t.from_id=void 0,t.to_id=e.id):((G=e.type)==null?void 0:G.id)===3?(t.contact_id=3,t.from_id=e.id,t.to_id=void 0):(t.contact_id=void 0,t.from_id=((Y=e==null?void 0:e.type)==null?void 0:Y.type)==="INCOME"?e.id:void 0,t.to_id=((W=e==null?void 0:e.type)==null?void 0:W.type)==="EXPENSE"?e.id:void 0),o(rs(t))}},[o]),l.useEffect(()=>{var C,E,k,G,Y,W;if(e){var t={contact_id:void 0,from_id:void 0,to_id:void 0,page:b.toString()};((C=e.type)==null?void 0:C.id)===1&&((k=(E=e.card)==null?void 0:E.type)==null?void 0:k.id)===2?(t.contact_id=3,t.from_id=void 0,t.to_id=e.id):((G=e.type)==null?void 0:G.id)===3?(t.contact_id=3,t.from_id=e.id,t.to_id=void 0):(t.contact_id=void 0,t.from_id=((Y=e==null?void 0:e.type)==null?void 0:Y.type)==="INCOME"?e.id:void 0,t.to_id=((W=e==null?void 0:e.type)==null?void 0:W.type)==="EXPENSE"?e.id:void 0),o(rs(t))}},[b]),l.useEffect(()=>{i.destroySuccess!==null&&(i.destroySuccess?(r("/dashboard/month",{state:{year:y,month:T}}),ls({variant:"flat",color:"success",title:"Eliminación exitosa",timeout:3e3,description:i.message}),o(is())):(ls({variant:"flat",color:"danger",title:"Error",description:i.error}),o(is())))},[i]);const q=()=>{console.log("handle");var t=I.extractMonthYear(e.accounting_date);x(t.year),H(t.month),o(Ks(`${e.id}`))};return i.loading?s.jsxs("div",{className:"w-full h-dscreen flex flex-col items-center justify-center gap-y-6",children:["Eliminando...",s.jsx(Gs,{isIndeterminate:!0,"aria-label":"Loading...",className:"max-w-md",size:"lg",color:"danger"})]}):s.jsxs("div",{className:"w-full lg:h-full flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-start gap-y-6",children:[s.jsx(na,{isOpen:h,onOpenChange:u,size:"lg",placement:"center",children:s.jsx(ea,{children:t=>s.jsxs(s.Fragment,{children:[s.jsx(aa,{className:"flex flex-col gap-1",children:"¿Estás seguro que deseas eliminar este movimiento?"}),s.jsx(Qs,{children:s.jsx("p",{children:"Esto también eliminará la información relacionada a él."})}),s.jsxs(sa,{children:[s.jsx(D,{color:"default",variant:"light",onPress:t,children:"Cancelar"}),s.jsx(D,{color:"danger",onPress:()=>{t(),q()},children:"Eliminar"})]})]})})}),s.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Detalle de movimiento"}),s.jsx(D,{variant:"flat",onPress:()=>{var t=I.extractMonthYear(e.accounting_date);r("/dashboard/month",{state:{year:t.year,month:t.month}})},children:s.jsx(ce,{name:"FaCalendar"})})]}),s.jsx("span",{className:"text-sm",children:I.spanishDate(e.transaction_date)}),s.jsx("div",{className:"w-14 h-14 flex flex-col items-center justify-center bg-neutral-50 rounded-full border-1",children:s.jsx(ce,{name:((O=e.category)==null?void 0:O.icon)??"",size:24})}),s.jsx("span",{className:"font-medium",children:e.concept}),s.jsx("span",{className:"font-semibold text-lg ",children:I.currency(e.amount??0)}),s.jsx("div",{className:"w-full flex flex-row justify-center items-center gap-x-4",children:d&&(((A=e.type)==null?void 0:A.id)===1&&((w=(S=e.card)==null?void 0:S.type)==null?void 0:w.id)===2||((F=e.type)==null?void 0:F.id)===3)?s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"w-24 h-9 rounded-lg"}),s.jsx(B,{className:"w-28 h-9 rounded-lg"})]}):s.jsxs(s.Fragment,{children:[s.jsx(D,{variant:"flat",color:"primary",startContent:s.jsx(ce,{name:"FaPen",className:"text-primary-500"}),onPress:()=>{var t;r("/dashboard/transaction/update",{state:{transaction:e,incomeRelation:(t=a==null?void 0:a.data)==null?void 0:t.at(0)}})},children:"Editar"}),s.jsx(D,{variant:"flat",color:"danger",startContent:s.jsx(ce,{name:"FaTrash",className:"text-rose-600"}),onPress:$,children:"Eliminar"})]})}),s.jsxs("div",{className:"w-full grid grid-cols-1 gap-4",children:[s.jsx(R,{name:"Fecha de transacción",value:I.spanishDate(e.transaction_date)}),s.jsx(R,{name:"Fecha de contabilidad",value:I.spanishDate(e.accounting_date)}),s.jsx(R,{name:"Banco",value:((z=(M=e.card)==null?void 0:M.bank)==null?void 0:z.name)??"No especificado"}),s.jsx(R,{name:((N=e.type)==null?void 0:N.id)===1&&((V=(Q=e.card)==null?void 0:Q.type)==null?void 0:V.id)===2?"Tarjeta destino":((Z=e.type)==null?void 0:Z.id)===3?"Tarjeta origen":"Tarjeta",value:s.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[s.jsx("div",{className:`p-2 w-12 max-h-8 rounded-md ${((U=(L=e==null?void 0:e.card)==null?void 0:L.network)==null?void 0:U.name)==="Visa"?"bg-blue-700":"bg-gray-200"}`,children:s.jsx("img",{src:`${he}${(ee=(_=e==null?void 0:e.card)==null?void 0:_.network)==null?void 0:ee.img_path}`,alt:""})}),s.jsx("span",{children:((K=e.card)==null?void 0:K.numbers)??"No especificado"})]})}),(((se=e.type)==null?void 0:se.id)===1&&((te=(ae=e.card)==null?void 0:ae.type)==null?void 0:te.id)===2||((oe=e.type)==null?void 0:oe.id)===3)&&s.jsx(R,{name:((P=e.type)==null?void 0:P.id)===1&&((re=(ne=e.card)==null?void 0:ne.type)==null?void 0:re.id)===2?"Tarjeta origen":((le=e.type)==null?void 0:le.id)===3?"Tarjeta destino":"Tarjeta",value:d?s.jsx("div",{className:"flex flex-row items-center gap-x-2",children:s.jsx(B,{className:"w-14 h-7 rounded-lg"})}):((j=e.type)==null?void 0:j.id)===3?s.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[s.jsx("div",{className:`p-2 w-10 max-h-6 flex flex-col justify-center items-center rounded-md ${((ge=(be=(ve=(X=(ie=a==null?void 0:a.data)==null?void 0:ie.at(0))==null?void 0:X.to_transaction)==null?void 0:ve.card)==null?void 0:be.network)==null?void 0:ge.name)==="Visa"?"bg-blue-700":"bg-gray-50"}`,children:s.jsx("img",{src:`${he}${(_e=(Ne=(we=(je=(ye=a==null?void 0:a.data)==null?void 0:ye.at(0))==null?void 0:je.to_transaction)==null?void 0:we.card)==null?void 0:Ne.network)==null?void 0:_e.img_path}`,alt:""})}),s.jsx("span",{children:((Ee=(Pe=($e=(Ce=a==null?void 0:a.data)==null?void 0:Ce.at(0))==null?void 0:$e.to_transaction)==null?void 0:Pe.card)==null?void 0:Ee.numbers)??"No especificado"})]}):s.jsxs("div",{className:"flex flex-row items-center gap-x-2",children:[s.jsx("div",{className:`p-2 w-10 max-h-6 flex flex-col justify-center items-center rounded-md ${((Me=(Se=(Oe=(Ie=(ke=a==null?void 0:a.data)==null?void 0:ke.at(0))==null?void 0:Ie.from_transaction)==null?void 0:Oe.card)==null?void 0:Se.network)==null?void 0:Me.name)==="Visa"?"bg-blue-700":"bg-gray-50"}`,children:s.jsx("img",{src:`${he}${(Ae=(Te=(Re=(Be=(De=a==null?void 0:a.data)==null?void 0:De.at(0))==null?void 0:Be.from_transaction)==null?void 0:Re.card)==null?void 0:Te.network)==null?void 0:Ae.img_path}`,alt:""})}),s.jsx("span",{children:((He=(Ve=(ze=(Fe=a==null?void 0:a.data)==null?void 0:Fe.at(0))==null?void 0:ze.to_transaction)==null?void 0:Ve.card)==null?void 0:He.numbers)??"No especificado"})]})}),s.jsx(R,{name:"Tipo de tarjeta",value:((Le=(qe=e.card)==null?void 0:qe.type)==null?void 0:Le.type)=="CREDIT"?"Crédito":"Débito"}),s.jsx(R,{name:"Tipo de movimiento",value:((Ue=e.type)==null?void 0:Ue.type)=="INCOME"?"Ingreso":((Ke=e.type)==null?void 0:Ke.type)=="EXPENSE"?"Gasto":"Pago de TDC"}),s.jsxs("div",{className:"w-full flex flex-col justify-between",children:[s.jsx("span",{className:"",children:"Notas"}),s.jsx("span",{className:"text-sm text-gray-500",children:(e==null?void 0:e.notes)??"Sin notas"})]})]})]}),s.jsx(Ls,{orientation:"vertical",className:"hidden lg:block h-dscreen "}),s.jsx("div",{className:"w-full lg:w-auto lg:min-w-96",children:((Xe=e.type)==null?void 0:Xe.id)!==3&&!(((Ge=e.type)==null?void 0:Ge.id)===1&&((We=(Ye=e.card)==null?void 0:Ye.type)==null?void 0:We.id)===2)&&s.jsx("div",{className:"w-full flex flex-col gap-y-6",children:d?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"w-full flex flex-col gap-y-6 ",children:[s.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[s.jsx(B,{className:"w-48 h-6 rounded-xl"}),s.jsx(B,{className:"rounded-xl",children:s.jsx(D,{children:"Agregar"})})]}),s.jsx(B,{className:"w-36 h-6 rounded-xl"}),[...Array(4)].map((t,C)=>s.jsx(B,{className:"w-full h-24 rounded-xl"},C))]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full h-full flex flex-row justify-between items-center",children:[s.jsxs("span",{className:"font-semibold",children:[((Je=e==null?void 0:e.type)==null?void 0:Je.type)==="INCOME"?"Gasto vinculado":"Ingresos vinculados",` (${(Qe=a==null?void 0:a.data)==null?void 0:Qe.length})`]}),((Ze=e==null?void 0:e.type)==null?void 0:Ze.type)==="EXPENSE"&&(c??0)<=I.toPositive((e==null?void 0:e.amount)??0)&&s.jsx(D,{variant:"flat",color:"default",onPress:()=>{o(Us()),r("/dashboard/transaction/add-relation",{state:{transaction:e}})},children:"Agregar"})]}),s.jsx("span",{children:`Acumulado: ${I.currency(c??0)}`}),s.jsx("div",{className:"w-full flex flex-col gap-y-6",children:((es=a==null?void 0:a.data)==null?void 0:es.length)===0?s.jsx("div",{}):s.jsx(s.Fragment,{children:(ss=a==null?void 0:a.data)==null?void 0:ss.map(t=>{var E,k;const C=((E=e==null?void 0:e.type)==null?void 0:E.type)==="EXPENSE"?t.from_transaction:t.to_transaction;return s.jsx(Ys,{item:C,contact:((k=t.contact)==null?void 0:k.alias)??"Sin alias"},t.id)})})}),s.jsx("div",{children:s.jsx(Xs,{showControls:!0,initialPage:1,page:b,total:(a==null?void 0:a.last_page)??1,className:((a==null?void 0:a.last_page)??1)<2?"hidden":"",onChange:t=>{g(t)}})})]})})})]})};export{R as TransactionField,ma as default};
