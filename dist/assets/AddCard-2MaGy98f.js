import{u as P,a as R,b as w,r as t,a5 as B,c as j,j as a,s as N,f as k,e as D,a6 as $}from"./index-DKY2NX35.js";import{a as S,n as y}from"./combos-D7eekNR2.js";import{s as n,l as c}from"./chunk-2GIFKCNQ-y7tds759.js";const F="https://nimo-api.paulflores.site",H=()=>{var b;const s=P(),C=R(),r=w(e=>e.banks),l=w(e=>e.cards),[o,_]=t.useState(void 0),[u,f]=t.useState(void 0),[g,A]=t.useState(void 0),[d,I]=t.useState(void 0),[v,m]=t.useState(void 0),[i,T]=t.useState(void 0),[p,x]=t.useState(void 0),[h,q]=t.useState(void 0);t.useEffect(()=>{s(B())},[s]),t.useEffect(()=>{l.storeSuccess==!1?j({variant:"flat",color:"danger",title:"Error",description:l.error}):l.storeSuccess==!0&&(j({variant:"flat",color:"success",title:"Registro exitoso",timeout:3e3}),C("/dashboard/cards"))},[l.storeSuccess]);const z=e=>{if(e.preventDefault(),m(d===void 0),f(o===void 0),x(i===void 0),!(v||u||p)){var E={numbers:h??"",color:g??"",type_id:d??0,bank_id:o??0,network_id:i??0};s($(E))}};return a.jsxs("form",{onSubmit:z,className:"w-full lg:h-dscreen flex flex-col gap-y-6 pb-12",children:[a.jsx("span",{className:"font-semibold",children:"Agregar tarjeta"}),a.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-6",children:[a.jsx(n,{required:!0,size:"lg",variant:"flat",label:"Tipo de tarjeta",labelPlacement:"outside",placeholder:"Tipo de tarjeta",value:d,color:v?"danger":void 0,className:"w-full lg:w-1/4",onChange:e=>{I(parseInt(e.target.value)),m(e.target.value===void 0)},children:S&&S.map(e=>a.jsx(c,{children:e.label},e.key))}),a.jsx(a.Fragment,{children:r.loading?a.jsxs("div",{className:"w-full lg:w-1/4 h-16 flex flex-col justify-between",children:[a.jsx(N,{className:"w-12 h-4 rounded-xl",children:"a"}),a.jsx(N,{className:"w-full h-10 rounded-xl",children:"a"})]}):a.jsx(n,{required:!0,size:"lg",variant:"flat",label:"Tarjeta",labelPlacement:"outside",placeholder:"Tarjeta",value:o,color:u?"danger":void 0,className:"w-full lg:w-1/4",onChange:e=>{_(parseInt(e.target.value)),f(e.target.value===void 0)},children:r.data&&((b=r.data)==null?void 0:b.map(e=>a.jsx(c,{startContent:a.jsx("div",{className:"w-12 max-h-6 flex flex-col justify-center items-center rounded-md ",children:a.jsx("img",{src:`${F}${e.img_path}`,alt:"",className:"invert"})}),children:e.name},e.id)))})}),a.jsx(n,{required:!0,size:"lg",variant:"flat",label:"Network",labelPlacement:"outside",placeholder:"Network",value:i,color:p?"danger":void 0,className:"w-full lg:w-1/4",onChange:e=>{T(parseInt(e.target.value)),x(e.target.value===void 0)},children:y&&y.map(e=>a.jsx(c,{children:e.label},e.key))}),a.jsxs("div",{className:"w-full lg:w-1/4 flex flex-row gap-6",children:[a.jsx(k,{required:!0,size:"lg",variant:"flat",label:"4 últimos dígitos",labelPlacement:"outside",placeholder:"1234",value:h,onChange:e=>q(e.target.value),className:"w-2/3"}),a.jsx(k,{required:!0,size:"lg",variant:"flat",type:"color",label:"Color",labelPlacement:"outside",value:g,onChange:e=>A(e.target.value),className:"w-1/3"})]})]}),a.jsx(D,{size:"lg",type:"submit",variant:"solid",color:"primary",radius:"lg",className:"w-full lg:w-1/6",isLoading:l.loading,children:"Agregar"})]})};export{H as default};
